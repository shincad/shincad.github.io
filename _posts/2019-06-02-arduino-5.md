---

layout: post
title:  "LED 그냥 켜면 되는거 아냐?"
date:   2019-06-01
comments: true
categories: arduino

---

LED하나 깜박거리는 거 해 봤다. 속도도 조절해 봤다. 뭔가 뿌듯하다. 근데, 더 이상 할께 없다… 하지만 여기서 끝내면 안된다. 좀 더 건설적인 뭔가 해 봐야 하는데… 근데, LED는 그냥 +,-구분해서 불만 들어오게 하면 되는 거 아닌가?

맞다. 불면 켜면 된다. 근데 그냥 연결하면 안된다. 땜쟁이는 대학에서 전기공학을 전공했다. 신입생 때 그냥 LED 연결하면 되는 줄 알았다. 근데, 첨에 나오다가 갑자기 불이 안 들어온다. 새거 다시 연결하면 첨엔 아주 밝게 잘 나온다. 또 안 나온다… 도대체 왜 이러는 걸까? 아마 다들 경험해 보신 분들 있으실 꺼다. 그냥 연결하면 안된다. 첨에는 내 몸 하나 불사르며 밝게 타오르다가, 결국 장렬히 전사한다. 계속 켜고 싶은데… 그게 안된다. 

선배에게 물어보면, "야~ 저항 하나 걸어줘. 안 그러면 탄다."라고 이야기 한다. 저항! 아 저항을 걸어줘야 하는구나. 근데 얼마를 걸어줘야 하지? 물어보면 선배들도 잘 모른다. "뭐 대충 470ohm하나 달아줘."라고 이야기 한다. 툭하면 470. 무슨 동네 개 이름도 아니고. 아무도 제대로 알려주지 않는다. 생각해 보면 선배들도 이거 잘 몰랐다. 그냥 저항 걸어줘야 하니까 걸어준거다. 뭐야. 도대체 제대로 알려주지도 않고.

LED는 다이오드의 일종이다. 다들 들어봤을 것이다. 아래는 일반적인 LED의 특성을 표시해 놓은 것이다.

<img width="622" alt="스크린샷 2019-06-01 오후 8 00 24" src="https://user-images.githubusercontent.com/20354551/58747575-fa953c80-84a7-11e9-9cd4-746db84f9530.png">

뭔가 무지하게 복잡하다. 머리 아프다. 근데, 다 볼 필요없다. 하나만 보면 된다. Forward Voltage! 다들 ohm의 법칙이라는 건 들어봤을꺼다. 수학 싫어하는데 왜 공식이냐고? 이 정도는 참고 하자. 별로 안 어렵다.

**V = I x R (전압 = 전류 x 저항)**

전기공학에서는 가장 기본적인 공식이다. 모든 것은 이것에서 부터 출발한다. 근데 이거 가지고 어떻게 하냐고? 자 하나씩 보자.

위의 LED는 정격이 1.85V 일 때, If=20mA라고 되어 있다. 근데, 아두이노에서는 몇 볼트를 쓰는가? 5V다. 높다. 이대로 연결하면 환하게 불타오르고 죽는 건 당연하다. 에이 그럼 어떻하지? 위에서 말한 것처럼 저항을 걸어주면 된다. 한번 계산해 보자.

**아두이노전압(5V) - LED정격(1.85V) = 3.15V** 

LED는 정격이 1.85V라고 위에 나와 있다. 그럼 나머지 3.15V는? 누군가가 소모해 줘야 한다. 안 그러면 타버린다. 누구에게 이 미션을 맡기지? 저항이다. 저항이 이걸 소비시켜 주면 되는 거다.

그러면 V = I x R에서 R = V / I로 변환 가능하다. 즉 저항 R = 3.15 / 0.02A(20mA) = 157.5 Ohm

이다. 이 저항을 걸어주면 LED는 딱 좋은 밝기로 아무 문제없이 밝게 나온다. 이렇게 애매한 저항값이 없다고? 그러면 대략 180Ohm 정도 걸어준다. (이래서 선배들이 이야기 한 대충이 나오는거다. 이유를 알고 대충 걸어 주는 것과 모르고 걸어주는 것은 완전히 다르다. 확실하게 알고 넘어가자.)

좀 어두우면, 130Ohm 정도 걸어주면 밝아진다. 너무 낮추면 타버리니, 적당히 해 주자. (저항값이 있으면 LED는 바로 나가지 않는다. 정격이 안 맞으면, 오래 쓰면 나간다.)

가전제품이나, 전자제품 중에 LED가 잘 나가는 제품이 있다. 이건 중국산 싸구려 LED를 썼거나, 설계 시 저항값을 잘못 책정한 결과라고 할 수 있다. (설마 대기업 연구소에서 이런 것도 못하리? 라고 생각하는 분들도 계시겠지만, 의외로 그런 엔지니어들 있다. 기본이 없는 엔지니어들..)

예제로 다른 것을 한번 풀어보자.

**forward Voltage : 2V , If = 10mA 인 LED가 있다. 12V 전압을 걸어줄 때 저항을 얼마짜리를 써야 하는지  서술하시오.**

요렇게 나오면, 하나씩 보자.

![image](https://user-images.githubusercontent.com/20354551/58747772-ae97c700-84aa-11e9-9f74-6e77df08be49.png)

이렇게 그릴 수 있다. 잘 모르면 그려봐라. 제일 확실하다. 

저항 값의 계산

우리가 아는 값 : 2V / 10mA

12V의 전압을 사용한다고 했으므로, 

`12V = Vr전압 + V led = V Batt가 된다.` 

`12V = Vr전압 + 2V` 

`Vr = 10V` 

결국 저항 R에 걸리는 전압은 10V가 된다. Ohm의 법칙을 써서 저항을 구하면,

R = V / I —> 10 / 0.01A(10mA) = 1000 Ohm 즉, 1KOhm을 사용하면 되는 거다.

또 급 피곤해졌다. 오늘은 여기까지. 오늘 밤에는 챔스리그 결승전인데, 손흥민 선발로 나오려나? (설마 포체티노 너, 모우라 쓰는 건 아니겠지?)